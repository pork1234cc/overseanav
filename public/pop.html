<!DOCTYPE html>
<html lang="zh-CN" class="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>乔木精选推荐 | 精选AI与知识工具集</title>
    <meta name="description" content="发现最佳AI、阅读与知识管理工具，提升工作效率">
    <link rel="apple-touch-icon" sizes="180x180" href="/favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png">
    <link rel="stylesheet" href="/custom-styles.css">
    <link rel="manifest" href="/favicon/site.webmanifest">
    <link rel="shortcut icon" href="/favicon/favicon.ico">
    <link rel="stylesheet" href="https://lf6-cdn-tos.bytecdntp.com/cdn/expire-100-M/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/tailwindcss/2.2.19/tailwind.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@400;500;600;700&family=Noto+Sans+SC:wght@300;400;500;700&display=swap">
    <style>
        :root {
            /* 主色调：高级黑 */
            --primary: #1A1A1A;
            --primary-light: #2A2A2A;
            --primary-dark: #000000;
            --primary-gradient: linear-gradient(135deg, #1A1A1A 0%, #2A2A2A 100%);
            
            /* 次要色调：优雅金色 */
            --secondary: #B8860B;
            --secondary-light: #DAA520;
            --secondary-dark: #996515;
            --secondary-gradient: linear-gradient(135deg, #B8860B 0%, #DAA520 100%);
            
            /* 强调色：玫瑰金 */
            --accent: #B76E79;
            --accent-light: #C88591;
            --accent-dark: #A65D66;
            --accent-gradient: linear-gradient(135deg, #B76E79 0%, #C88591 100%);
            
            /* 文本颜色：精致层次 */
            --text-primary: #1A1A1A;
            --text-secondary: #666666;
            
            /* 背景颜色：高级灰白 */
            --bg-primary: #FFFFFF;
            --bg-secondary: #F5F5F5;
            
            /* 卡片样式优化 */
            --card-bg: #FFFFFF;
            --card-border: #E0E0E0;
            --card-shadow: rgba(0, 0, 0, 0.08);
            
            /* 导航栏背景 */
            --nav-blur: rgba(255, 255, 255, 0.95);
            
            /* RGB值用于动画 */
            --primary-rgb: 26, 26, 26;
            --secondary-rgb: 184, 134, 11;
        }

        /* 深色模式配色优化 */
        .dark {
            --primary: #FFFFFF;
            --primary-light: #F5F5F5;
            --primary-dark: #E0E0E0;
            --primary-gradient: linear-gradient(135deg, #FFFFFF 0%, #F5F5F5 100%);
            
            --secondary: #DAA520;
            --secondary-light: #FFD700;
            --secondary-dark: #B8860B;
            --secondary-gradient: linear-gradient(135deg, #DAA520 0%, #FFD700 100%);
            
            --accent: #C88591;
            --accent-light: #D9A6AF;
            --accent-dark: #B76E79;
            --accent-gradient: linear-gradient(135deg, #C88591 0%, #D9A6AF 100%);
            
            --text-primary: #FFFFFF;
            --text-secondary: #CCCCCC;
            
            --bg-primary: #1A1A1A;
            --bg-secondary: #2A2A2A;
            
            --card-bg: #2A2A2A;
            --card-border: #3A3A3A;
            --card-shadow: rgba(0, 0, 0, 0.2);
            
            --nav-blur: rgba(26, 26, 26, 0.95);
            
            --primary-rgb: 255, 255, 255;
            --secondary-rgb: 218, 165, 32;
        }

        body {
            font-family: 'Didot', 'Times New Roman', serif;
            background-color: var(--bg-primary);
            color: var(--text-primary);
            transition: background-color 0.3s, color 0.3s;
            overflow-x: hidden;
            letter-spacing: 0.03em;
            line-height: 1.8;
        }

        h1, h2, h3, h4, h5, h6 {
            font-family: 'Didot', 'Bodoni MT', 'Times New Roman', serif;
            font-weight: 300;
            letter-spacing: 0.05em;
        }

        .category-title {
            position: relative;
            display: inline-block;
            margin-bottom: 1.5rem;
        }

        .category-title::after {
            content: '';
            position: absolute;
            bottom: -8px;
            left: 0;
            height: 3px;
            width: 50px;
            background: var(--primary);
            border-radius: 2px;
        }

        /* 美化的卡片样式 */
        .site-card {
            background-color: var(--card-bg);
            border-radius: 10px; /* 减小圆角 */
            overflow: hidden;
            transition: all 0.3s cubic-bezier(0.165, 0.84, 0.44, 1); /* 平滑过渡 */
            height: 100%;
            display: block;
            position: relative;
            box-shadow: 0 2px 8px var(--card-shadow); /* 更精细的阴影 */
            border: 1px solid var(--card-border);
            text-decoration: none;
            color: inherit;
        }

        .site-card:hover {
            transform: translateY(-6px); /* 减小上移距离 */
            box-shadow: 0 12px 20px var(--card-shadow); /* 更精致的悬浮阴影 */
            border-color: var(--primary-light);
        }

        .card-img-container {
            position: relative;
            overflow: hidden;
            padding-top: 56.25%; /* 16:9 Aspect Ratio */
            background-color: #f9fafb;
        }

        .dark .card-img-container {
            background-color: #374151;
        }

        .card-img {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.6s cubic-bezier(0.165, 0.84, 0.44, 1);
        }

        .site-card:hover .card-img {
            transform: scale(1.05);
        }

        /* 美化的标签 */
        .tag {
            padding: 0.25rem 0.7rem; /* 稍微紧凑 */
            border-radius: 6px; /* 减小圆角 */
            font-size: 0.75rem;
            font-weight: 500;
            display: inline-block;
            margin-right: 0.5rem;
            margin-bottom: 0.5rem;
            transition: all 0.25s ease;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05); /* 更精细的阴影 */
        }

        .tag:hover {
            transform: translateY(-2px);
            box-shadow: 0 3px 6px rgba(0, 0, 0, 0.08);
        }

        .tag-ai {
            background-color: rgba(37, 99, 235, 0.1);
            color: var(--primary);
            border: 1px solid rgba(37, 99, 235, 0.2);
        }

        .dark .tag-ai {
            background-color: rgba(59, 130, 246, 0.15);
            border: 1px solid rgba(59, 130, 246, 0.3);
        }

        .tag-productivity {
            background-color: rgba(14, 165, 233, 0.1);
            color: var(--secondary);
            border: 1px solid rgba(14, 165, 233, 0.2);
        }

        .dark .tag-productivity {
            background-color: rgba(56, 189, 248, 0.15);
            border: 1px solid rgba(56, 189, 248, 0.3);
        }

        .tag-reading {
            background-color: rgba(249, 115, 22, 0.1);
            color: var(--accent);
            border: 1px solid rgba(249, 115, 22, 0.2);
        }

        .dark .tag-reading {
            background-color: rgba(251, 146, 60, 0.15);
            border: 1px solid rgba(251, 146, 60, 0.3);
        }

        /* 美化的搜索框 */
        .search-container {
            position: relative;
            max-width: 700px;
            margin: 0 auto;
        }

        .search-box {
            background-color: var(--card-bg);
            border: 1px solid var(--card-border); /* 添加边框 */
            border-radius: 8px; /* 减小圆角 */
            padding: 0.9rem 1.5rem 0.9rem 3.2rem;
            width: 100%;
            transition: all 0.25s ease;
            font-size: 1rem; /* 减小字号 */
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05); /* 更精细的阴影 */
        }

        .search-box:focus {
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.15); /* 调整聚焦阴影 */
            outline: none;
        }

        .search-icon {
            position: absolute;
            left: 1.25rem;
            top: 50%;
            transform: translateY(-50%);
            color: var(--text-secondary);
            font-size: 1.1rem;
        }

        /* 美化的分类标签 */
        .category-tabs {
            display: flex;
            overflow-x: auto;
            scrollbar-width: none;
            -ms-overflow-style: none;
            gap: 1rem;
            padding-bottom: 0.75rem;
            margin-bottom: 2.5rem;
        }

        .category-tabs::-webkit-scrollbar {
            display: none;
        }

        .category-tab {
            white-space: nowrap;
            padding: 0.6rem 1.2rem;
            border-radius: 8px; /* 减小圆角 */
            font-weight: 600;
            font-size: 0.95rem;
            cursor: pointer;
            transition: all 0.3s ease;
            background-color: var(--bg-secondary);
            color: var(--text-secondary);
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
            border: 1px solid transparent;
        }

        .category-tab:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.08);
            color: var(--primary);
        }

        .category-tab.active {
            background: var(--primary);
            color: white;
            box-shadow: 0 4px 10px rgba(37, 99, 235, 0.25);
        }

        /* 美化的导航栏 */
        .navbar {
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            background-color: var(--nav-blur);
            border-bottom: 1px solid rgba(229, 231, 235, 0.2);
            transition: all 0.3s ease;
        }

        .dark .navbar {
            border-bottom: 1px solid rgba(55, 65, 81, 0.6);
        }

        .nav-link {
            position: relative;
            padding: 0.5rem 0;
            margin: 0 1rem;
            font-weight: 500;
            transition: color 0.3s ease;
        }

        .nav-link::after {
            content: '';
            position: absolute;
            width: 0;
            height: 2px;
            bottom: 0;
            left: 0;
            background: var(--primary);
            transition: width 0.3s ease;
            border-radius: 2px;
        }

        .nav-link:hover {
            color: var(--primary);
        }

        .nav-link:hover::after {
            width: 100%;
        }

        /* 汉堡菜单 */
        .hamburger {
            width: 28px;
            height: 20px;
            position: relative;
            cursor: pointer;
            z-index: 60;
        }

        .hamburger span {
            display: block;
            position: absolute;
            height: 2px; /* 更细的线条 */
            width: 100%;
            background: var(--text-primary);
            border-radius: 2px;
            transition: .25s ease-in-out;
        }

        .hamburger span:nth-child(1) {
            top: 0;
        }

        .hamburger span:nth-child(2), .hamburger span:nth-child(3) {
            top: 9px;
        }

        .hamburger span:nth-child(4) {
            top: 18px;
        }

        .hamburger.active span:nth-child(1) {
            top: 9px;
            width: 0%;
            left: 50%;
        }

        .hamburger.active span:nth-child(2) {
            transform: rotate(45deg);
        }

        .hamburger.active span:nth-child(3) {
            transform: rotate(-45deg);
        }

        .hamburger.active span:nth-child(4) {
            top: 9px;
            width: 0%;
            left: 50%;
        }

        /* 移动菜单 */
        .mobile-menu {
            position: fixed;
            top: 0;
            left: -100%;
            width: 80%;
            height: 100vh;
            background-color: var(--bg-primary);
            z-index: 50;
            padding: 2rem 1.5rem;
            transition: left 0.4s cubic-bezier(0.77, 0, 0.175, 1);
            box-shadow: 5px 0 25px rgba(0, 0, 0, 0.15);
            overflow-y: auto;
        }

        .mobile-menu.active {
            left: 0;
        }

        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            background-color: rgba(0, 0, 0, 0.6);
            z-index: 40;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.4s, visibility 0.4s;
            backdrop-filter: blur(3px);
        }

        .overlay.active {
            opacity: 1;
            visibility: visible;
        }

        /* 主题切换按钮 */
        .theme-toggle {
            position: relative;
            width: 52px;
            height: 26px;
            border-radius: 13px;
            background: var(--primary);
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: inset 0 2px 6px rgba(0, 0, 0, 0.15);
        }

        .theme-toggle::after {
            content: '';
            position: absolute;
            top: 3px;
            left: 3px;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background-color: white;
            transition: transform 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275), background-color 0.3s;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2);
        }

        .dark .theme-toggle {
            background: var(--primary);
        }

        .dark .theme-toggle::after {
            transform: translateX(26px);
            background-color: var(--bg-secondary);
        }

        .theme-toggle:hover::after {
            box-shadow: 0 3px 8px rgba(0, 0, 0, 0.3);
        }

        /* 热门标签 */
        .hot-label {
            position: absolute;
            top: 10px;
            right: 10px;
            background-color: #ef4444;
            color: white;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: bold;
            z-index: 2;
        }

        .new-label {
            position: absolute;
            top: 10px;
            right: 10px;
            background-color: #10b981;
            color: white;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: bold;
            z-index: 2;
        }

        /* 教程链接的样式 */
        .tutorial-link {
            display: inline-flex;
            align-items: center;
            margin-right: 0.5rem;
            padding: 0.25rem 0.7rem;
            border-radius: 6px;
            font-size: 0.75rem;
            font-weight: 500;
            background-color: #8b5cf6;
            color: white;
            transition: all 0.25s ease;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
            text-decoration: none;
            cursor: pointer;
        }

        .tutorial-link:hover {
            transform: translateY(-2px);
            box-shadow: 0 3px 6px rgba(0, 0, 0, 0.08);
            background-color: #7c3aed;
        }

        .tutorial-link i {
            margin-right: 5px;
        }

        /* 返回顶部按钮 */
        .back-to-top {
            position: fixed;
            bottom: 30px;
            right: 30px;
            background: var(--primary);
            color: white;
            width: 46px;
            height: 46px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            opacity: 0;
            visibility: hidden;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            z-index: 30;
            box-shadow: 0 4px 12px rgba(37, 99, 235, 0.3);
        }

        .back-to-top.visible {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }

        .back-to-top:hover {
            transform: translateY(-5px);
            box-shadow: 0 6px 16px rgba(37, 99, 235, 0.4);
        }

        @media (max-width: 768px) {
            .category-title {
                margin-bottom: 1rem;
            }
            .category-title::after {
                width: 40px;
                height: 3px;
            }
            .hot-label {
                padding: 0.2rem 0.5rem;
                font-size: 0.7rem;
            }
            .back-to-top {
                width: 42px;
                height: 42px;
                bottom: 20px;
                right: 20px;
            }
        }

        /* 动态波浪背景 */
        .wave-bg {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 150px;
            z-index: 1;
            overflow: hidden;
        }

        .wave {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 200%;
            height: 100%;
            background-repeat: repeat-x;
            animation: wave-animation 25s linear infinite;
        }

        .wave-1 {
            background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1440 320'%3E%3Cpath fill='%232563eb' fill-opacity='0.08' d='M0,64L48,90.7C96,117,192,171,288,170.7C384,171,480,117,576,128C672,139,768,213,864,213.3C960,213,1056,139,1152,122.7C1248,107,1344,149,1392,170.7L1440,192L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z'%3E%3C/path%3E%3C/svg%3E");
            background-size: 50% 100%;
            z-index: 3;
        }

        .wave-2 {
            background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1440 320'%3E%3Cpath fill='%230ea5e9' fill-opacity='0.06' d='M0,192L48,176C96,160,192,128,288,122.7C384,117,480,139,576,170.7C672,203,768,245,864,245.3C960,245,1056,203,1152,170.7C1248,139,1344,117,1392,106.7L1440,96L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z'%3E%3C/path%3E%3C/svg%3E");
            background-size: 50% 100%;
            animation-duration: 30s;
            animation-delay: -5s;
            opacity: 0.7;
            z-index: 2;
        }

        .wave-3 {
            background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1440 320'%3E%3Cpath fill='%23f97316' fill-opacity='0.03' d='M0,128L48,149.3C96,171,192,213,288,218.7C384,224,480,192,576,181.3C672,171,768,181,864,186.7C960,192,1056,192,1152,170.7C1248,149,1344,107,1392,85.3L1440,64L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z'%3E%3C/path%3E%3C/svg%3E");
            background-size: 50% 100%;
            animation-duration: 35s;
            animation-delay: -2s;
            opacity: 0.5;
            z-index: 1;
        }

        .dark .wave-1 {
            background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1440 320'%3E%3Cpath fill='%233b82f6' fill-opacity='0.15' d='M0,64L48,90.7C96,117,192,171,288,170.7C384,171,480,117,576,128C672,139,768,213,864,213.3C960,213,1056,139,1152,122.7C1248,107,1344,149,1392,170.7L1440,192L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z'%3E%3C/path%3E%3C/svg%3E");
        }

        .dark .wave-2 {
            background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1440 320'%3E%3Cpath fill='%2338bdf8' fill-opacity='0.1' d='M0,192L48,176C96,160,192,128,288,122.7C384,117,480,139,576,170.7C672,203,768,245,864,245.3C960,245,1056,203,1152,170.7C1248,139,1344,117,1392,106.7L1440,96L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z'%3E%3C/path%3E%3C/svg%3E");
        }

        .dark .wave-3 {
            background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1440 320'%3E%3Cpath fill='%23fb923c' fill-opacity='0.07' d='M0,128L48,149.3C96,171,192,213,288,218.7C384,224,480,192,576,181.3C672,171,768,181,864,186.7C960,192,1056,192,1152,170.7C1248,149,1344,107,1392,85.3L1440,64L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z'%3E%3C/path%3E%3C/svg%3E");
        }

        @keyframes wave-animation {
            0% {
                transform: translateX(0);
            }
            100% {
                transform: translateX(-50%);
            }
        }

        /* Logo美化 - 改为纯黑/纯白 */
        .logo {
            font-family: 'Noto Serif SC', serif;
            font-weight: 700;
            font-size: 1.75rem;
            color: #000000;
            transition: color 0.3s ease;
        }

        .dark .logo {
            color: #ffffff;
        }

        /* 鼠标悬停访问按钮效果 */
        .visit-btn {
            display: inline-flex;
            align-items: center;
            padding: 0.4rem 0.8rem;
            border-radius: 6px; /* 减小圆角 */
            font-weight: 500;
            transition: all 0.25s ease; /* 加快过渡速度 */
            background-color: transparent;
            color: var(--primary);
            border: 1px solid var(--primary-light);
        }

        .visit-btn:hover {
            background-color: var(--primary);
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 3px 8px rgba(37, 99, 235, 0.3); /* 调整阴影颜色 */
        }

        .visit-btn i {
            margin-left: 5px;
            transition: transform 0.3s ease;
        }

        .visit-btn:hover i {
            transform: translateX(3px);
        }

        /* 页面加载动画 */
        #pageLoader {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: var(--bg-primary);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            transition: opacity 0.5s ease-out;
        }
        
        #pageLoader.hidden {
            opacity: 0;
            pointer-events: none;
        }
        
        .loader-circle {
            width: 48px;
            height: 48px;
            border: 3px solid rgba(37, 99, 235, 0.2);
            border-top: 3px solid var(--primary);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-bottom: 20px;
        }
        
        .loader-text {
            color: var(--text-primary);
            font-size: 16px;
            font-weight: 500;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* 卡片平滑出现动画 */
        .site-card {
            opacity: 0;
            transform: translateY(30px);
            transition: opacity 0.6s ease, transform 0.6s ease;
        }

        .site-card.visible {
            opacity: 1;
            transform: translateY(0);
        }

        /* 美化分割线 */
        .divider {
            height: 1px;
            background: linear-gradient(to right, transparent, var(--card-border) 50%, transparent);
            margin: 2.5rem 0;
        }

        /* Hero 区域美化 */
        .hero-section {
            position: relative;
            overflow: hidden;
            padding: 6rem 0 7rem;
            background-color: var(--bg-secondary);
            background-image: 
                radial-gradient(circle at 0% 0%, rgba(30, 64, 175, 0.08) 0%, transparent 50%),
                radial-gradient(circle at 100% 0%, rgba(71, 85, 105, 0.08) 0%, transparent 50%),
                radial-gradient(circle at 100% 100%, rgba(244, 63, 94, 0.06) 0%, transparent 50%),
                radial-gradient(circle at 0% 100%, rgba(30, 64, 175, 0.08) 0%, transparent 50%);
        }

        .dark .hero-section {
            background-image: 
                radial-gradient(circle at 0% 0%, rgba(59, 130, 246, 0.15) 0%, transparent 50%),
                radial-gradient(circle at 100% 0%, rgba(100, 116, 139, 0.15) 0%, transparent 50%),
                radial-gradient(circle at 100% 100%, rgba(251, 113, 133, 0.12) 0%, transparent 50%),
                radial-gradient(circle at 0% 100%, rgba(59, 130, 246, 0.15) 0%, transparent 50%);
        }

        /* Hero新增装饰元素 */
        .hero-decoration {
            position: absolute;
            z-index: 0;
            opacity: 0.5;
        }

        .hero-dot-grid {
            top: 10%;
            right: 5%;
            width: 180px;
            height: 180px;
            background-image: radial-gradient(var(--primary) 1px, transparent 1px);
            background-size: 12px 12px;
            opacity: 0.08;
            border-radius: 50%;
        }

        .hero-circle {
            bottom: 25%;
            left: 8%;
            width: 120px;
            height: 120px;
            border: 2px solid var(--primary);
            border-radius: 50%;
            opacity: 0.08;
        }

        .hero-line {
            top: 25%;
            left: 12%;
            width: 80px;
            height: 3px;
            background: linear-gradient(120deg, var(--primary), var(--secondary));
            opacity: 0.12;
            transform: rotate(-45deg);
        }

        .hero-content {
            position: relative;
            z-index: 1;
        }

        /* Hero 标题增强 */
        .hero-title {
            font-size: 3.5rem;
            line-height: 1.2;
            font-weight: 800;
            margin-bottom: 1.5rem;
            background: linear-gradient(135deg, 
                var(--primary) 0%,
                var(--primary-light) 25%,
                var(--secondary) 50%,
                var(--primary) 75%,
                var(--primary-light) 100%
            );
            background-size: 200% auto;
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            display: inline-block;
            position: relative;
            animation: 
                float 4s ease-in-out infinite,
                gradient 8s linear infinite;
        }

        @keyframes gradient {
            0% {
                background-position: 0% 50%;
            }
            50% {
                background-position: 100% 50%;
            }
            100% {
                background-position: 0% 50%;
            }
        }

        @keyframes float {
            0%, 100% {
                transform: translateY(0);
            }
            50% {
                transform: translateY(-8px);
            }
        }

        .hero-highlight {
            color: var(--primary);
            font-weight: 600;
            position: relative;
            display: inline-block;
            background: linear-gradient(120deg, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .hero-highlight::after {
            content: '';
            position: absolute;
            bottom: 2px;
            left: 0;
            width: 100%;
            height: 6px;
            background: linear-gradient(120deg, 
                rgba(30, 64, 175, 0.12),
                rgba(71, 85, 105, 0.12)
            );
            z-index: -1;
            border-radius: 4px;
        }

        .dark .hero-highlight::after {
            background: linear-gradient(120deg, 
                rgba(59, 130, 246, 0.15),
                rgba(100, 116, 139, 0.15)
            );
        }

        .hero-content {
            position: relative;
            z-index: 10;
        }

        /* 打字机效果 */
        .typing-effect::after {
            content: '|';
            display: inline-block;
            animation: blink 1s infinite;
        }

        @keyframes blink {
            0%, 100% {
                opacity: 1;
            }
            50% {
                opacity: 0;
            }
        }

        /* 搜索框增强 - 确保更大的点击区域和更明显的交互效果 */
        .search-container {
            position: relative;
            max-width: 700px;
            margin: 0 auto;
            z-index: 10;
            background: transparent;
            padding: 10px;
            border-radius: 20px;
            transition: transform 0.3s ease;
        }

        .search-container:hover {
            transform: scale(1.02);
        }

        .search-box {
            background-color: var(--card-bg);
            border: 2px solid var(--card-border);
            border-radius: 15px;
            padding: 1.3rem 1.5rem 1.3rem 4rem;
            width: 100%;
            transition: all 0.4s cubic-bezier(0.165, 0.84, 0.44, 1);
            font-size: 1.15rem;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            cursor: text;
            color: var(--text-primary);
        }

        .search-box:focus {
            border-color: var(--primary);
            box-shadow: 0 15px 30px rgba(37, 99, 235, 0.2), 0 0 0 4px rgba(37, 99, 235, 0.1);
            outline: none;
            transform: translateY(-4px);
        }

        .search-icon {
            position: absolute;
            left: 2rem;
            top: 50%;
            transform: translateY(-50%);
            color: var(--primary);
            font-size: 1.5rem;
            pointer-events: none;
            transition: all 0.3s ease;
        }

        .search-container:hover .search-icon {
            transform: translateY(-50%) scale(1.1);
        }

        /* 鼠标追踪效果 */
        .hero-section {
            position: relative;
            overflow: hidden;
            padding: 7rem 0 8rem;
            background-color: var(--bg-secondary);
            background-image: 
                radial-gradient(circle at 10% 20%, rgba(37, 99, 235, 0.1) 0%, transparent 35%), 
                radial-gradient(circle at 90% 80%, rgba(14, 165, 233, 0.1) 0%, transparent 35%);
            transition: background-position 0.5s ease;
        }

        /* 粒子效果增强 */
        .particles-container {
            position: absolute;
            width: 100%;
            height: 300px;
            bottom: 0;
            left: 0;
            z-index: 1;
            overflow: hidden;
            pointer-events: none;
        }

        .particle {
            position: absolute;
            border-radius: 50%;
            opacity: 0;
            animation: float-up 5s ease-in-out 1; /* 修改为只执行一次 */
            box-shadow: 0 0 10px rgba(255, 255, 255, 0.5);
        }

        @keyframes float-up {
            0% {
                transform: translateY(100px) scale(0) rotate(0deg);
                opacity: 0;
            }
            20% {
                opacity: 0.8;
            }
            80% {
                opacity: 0.8;
            }
            100% {
                transform: translateY(-150px) scale(1.5) rotate(360deg);
                opacity: 0;
            }
        }

        /* 悬停信息卡片 */
        .info-card {
            position: absolute;
            background: var(--card-bg);
            border: 1px solid var(--card-border);
            border-radius: 8px;
            padding: 10px 15px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.3s ease;
            pointer-events: none;
            z-index: 20;
        }

        .info-trigger:hover + .info-card {
            opacity: 1;
            transform: translateY(0);
        }

        /* 更多炫酷效果 */
        @keyframes pulse-border {
            0%, 100% {
                border-color: rgba(37, 99, 235, 0.3);
            }
            50% {
                border-color: rgba(37, 99, 235, 0.8);
            }
        }

        /* 搜索框脉冲动画 */
        .search-pulse {
            animation: pulse-border 2s infinite;
        }

        @media (max-width: 768px) {
            .hero-title {
                font-size: 2.5rem;
            }
        }

        .hero-subtitle {
            font-size: 1.25rem;
            line-height: 1.6;
            max-width: 600px;
            margin: 0 auto 2.5rem;
            color: var(--text-secondary);
        }

        .hero-highlight {
            color: var(--primary);
            font-weight: 600;
            position: relative;
            display: inline-block;
        }

        .hero-highlight::after {
            content: '';
            position: absolute;
            bottom: 2px;
            left: 0;
            width: 100%;
            height: 6px;
            background-color: rgba(37, 99, 235, 0.2);
            z-index: -1;
            border-radius: 4px;
        }

        .dark .hero-highlight::after {
            background-color: rgba(59, 130, 246, 0.25);
        }

        /* 搜索框增强 */
        .search-container {
            position: relative;
            max-width: 700px;
            margin: 0 auto;
            z-index: 2;
        }

        .search-box {
            background-color: var(--card-bg);
            border: 1px solid var(--card-border);
            border-radius: 12px;
            padding: 1.1rem 1.5rem 1.1rem 3.5rem;
            width: 100%;
            transition: all 0.25s ease;
            font-size: 1.1rem;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
        }

        .search-box:focus {
            border-color: var(--primary);
            box-shadow: 0 6px 24px rgba(37, 99, 235, 0.15), 0 0 0 3px rgba(37, 99, 235, 0.1);
            outline: none;
            transform: translateY(-2px);
        }

        .search-icon {
            position: absolute;
            left: 1.25rem;
            top: 50%;
            transform: translateY(-50%);
            color: var(--primary);
            font-size: 1.25rem;
        }

        /* 波浪动画加强 */
        .wave-bg {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 150px;
            z-index: 1;
            overflow: hidden;
        }

        /* 卡片内部信息布局优化 */
        .card-content {
            padding: 1.5rem;
            flex-grow: 1;
            display: flex;
            flex-direction: column;
        }

        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 1rem;
        }

        .card-title {
            font-size: 1.25rem;
            font-weight: 700;
            margin-bottom: 0.25rem;
            color: var(--text-primary);
        }

        .card-description {
            color: var(--text-secondary);
            font-size: 0.95rem;
            line-height: 1.5;
            margin-bottom: 1.5rem;
            flex-grow: 1;
        }

        /* 页脚美化 */
        .footer-wave {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100px;
            overflow: hidden;
            transform: rotate(180deg);
            z-index: 1;
        }

        .footer-wave .wave {
            animation-duration: 30s;
        }

        /* 社交图标美化 */
        .social-icon {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 38px;
            height: 38px;
            border-radius: 8px;
            color: var(--text-secondary);
            background-color: var(--bg-secondary);
            transition: all 0.3s ease;
        }

        .social-icon:hover {
            color: white;
            background: var(--primary);
            transform: translateY(-3px);
            box-shadow: 0 5px 12px rgba(37, 99, 235, 0.25);
        }

        /* 赞赏模态框 */
        .donation-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 100;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s, visibility 0.3s;
            backdrop-filter: blur(5px);
        }

        .donation-modal.active {
            opacity: 1;
            visibility: visible;
        }

        .donation-content {
            background-color: var(--card-bg);
            border-radius: 12px;
            padding: 2rem;
            max-width: 400px;
            width: 90%;
            text-align: center;
            position: relative;
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.2);
            transform: translateY(20px);
            transition: transform 0.3s;
        }

        .donation-modal.active .donation-content {
            transform: translateY(0);
        }

        .donation-close {
            position: absolute;
            top: 15px;
            right: 15px;
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--text-secondary);
            transition: color 0.3s;
        }

        .donation-close:hover {
            color: var(--primary);
        }

        .donation-qrcode {
            max-width: 200px;
            border-radius: 8px;
            margin: 1.5rem auto;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        /* 提示气泡 */
        .tooltip {
            position: relative;
            display: inline-block;
        }

        .tooltip .tooltip-text {
            visibility: hidden;
            width: 120px;
            background-color: var(--card-bg);
            color: var(--text-primary);
            text-align: center;
            border-radius: 6px;
            padding: 0.5rem;
            position: absolute;
            z-index: 1;
            bottom: 125%;
            left: 50%;
            transform: translateX(-50%);
            opacity: 0;
            transition: opacity 0.3s;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
            border: 1px solid var(--card-border);
            font-size: 0.8rem;
        }

        .tooltip:hover .tooltip-text {
            visibility: visible;
            opacity: 1;
        }

        @media (min-width: 1024px) {
            .lg\:grid-cols-4 {
                grid-template-columns: repeat(4, minmax(0, 1fr));
            }
            .gap-6 {
                gap: 1.5rem;
            }
        }

        /* 标签容器样式 */
        .labels-container {
            position: absolute;
            top: 10px;
            right: 10px;
            display: flex;
            flex-direction: row;
            gap: 5px;
            z-index: 2;
        }

        /* 热门标签样式 */
        .hot-label {
            background-color: #ef4444;
            color: white;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: bold;
            white-space: nowrap;
        }

        /* 新品标签样式 */
        .new-label {
            background-color: #10b981;
            color: white;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: bold;
            white-space: nowrap;
        }

        /* 标签容器响应式样式 */
        @media (max-width: 768px) {
            .labels-container {
                top: 5px;
                right: 5px;
                gap: 3px;
            }
            
            .hot-label,
            .new-label {
                padding: 3px 6px;
                font-size: 10px;
            }
        }
        
        .placeholder-img {
            background: linear-gradient(135deg, var(--bg-secondary) 0%, var(--card-bg) 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--text-secondary);
            font-size: 1.2rem;
            height: 100%;
            width: 100%;
            position: absolute;
            top: 0;
            left: 0;
        }
        
        .placeholder-img i {
            margin-right: 0.5rem;
            opacity: 0.7;
        }

        /* 确保筛选后卡片正确显示 */
        .site-card {
            display: flex;
            flex-direction: column;
            height: 100%;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        
        .card-img-container {
            width: 100%;
            position: relative;
            overflow: hidden;
        }
        
        .card-content {
            flex: 1;
            display: flex;
            flex-direction: column;
        }
        
        .tag-container {
            margin-top: auto;
        }
        
        /* 筛选状态栏样式 */
        #filter-status {
            transition: all 0.3s ease;
        }
        
        #clear-filter {
            transition: all 0.2s ease;
        }
        
        #clear-filter:hover {
            opacity: 0.9;
            transform: translateY(-1px);
        }

        /* 移除旧的波浪动画相关样式 */
        .wave-bg, .wave, .wave-1, .wave-2, .wave-3 {
            display: none;
        }

        /* 添加新的科技感底部动画样式 */
        .footer-animation {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 200px;
            overflow: hidden;
            transform: rotate(180deg);
            z-index: 1;
            background: linear-gradient(to bottom,
                rgba(var(--primary-rgb), 0.05),
                rgba(var(--secondary-rgb), 0.02));
        }

        .grid-container {
            position: absolute;
            width: 100%;
            height: 100%;
            perspective: 1000px;
            transform-style: preserve-3d;
        }

        .math-grid {
            position: absolute;
            width: 100%;
            height: 100%;
            background-image: 
                linear-gradient(to right, rgba(var(--primary-rgb), 0.1) 1px, transparent 1px),
                linear-gradient(to bottom, rgba(var(--primary-rgb), 0.1) 1px, transparent 1px);
            background-size: 40px 40px;
            transform: rotateX(60deg);
            animation: gridMove 20s linear infinite;
        }

        .particle-system {
            position: absolute;
            width: 100%;
            height: 100%;
        }

        .math-particle {
            position: absolute;
            border-radius: 50%;
            opacity: 0;
            animation: particleFloat 8s ease-in-out infinite;
            box-shadow: 0 0 8px rgba(var(--primary-rgb), 0.3);
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 100%);
        }

        @keyframes gridMove {
            0% {
                transform: rotateX(60deg) translateY(0);
            }
            100% {
                transform: rotateX(60deg) translateY(40px);
            }
        }

        @keyframes particleFloat {
            0%, 100% {
                transform: translate(0, 0) scale(1) rotate(0deg);
                opacity: 0.3;
            }
            25% {
                transform: translate(20px, -10px) scale(1.2) rotate(90deg);
                opacity: 0.8;
            }
            50% {
                transform: translate(40px, 0) scale(1) rotate(180deg);
                opacity: 0.5;
            }
            75% {
                transform: translate(20px, 10px) scale(1.2) rotate(270deg);
                opacity: 0.8;
            }
        }
    </style>
</head>
<body>
    <!-- 页面加载动画 -->
    <div id="pageLoader">
        <div class="loader-circle"></div>
        <p class="loader-text">加载中...</p>
                </div>

    <!-- Header -->
    <header class="sticky top-0 z-30 navbar">
        <div class="container mx-auto px-4 py-4">
            <div class="flex justify-between items-center">
                <div class="flex items-center space-x-3">
                    <div class="hamburger md:hidden" id="menuToggle">
                        <span></span>
                        <span></span>
                        <span></span>
                        <span></span>
            </div>
                    <a href="#" class="logo">乔木精选推荐</a>
        </div>
                <div class="hidden md:flex items-center space-x-8" id="desktopNav">
                    <!-- 导航菜单将通过JavaScript动态加载 -->
                </div>
                <div class="flex items-center space-x-4">
                    <div class="theme-toggle" id="themeToggle" title="切换深色/浅色模式"></div>
                </div>
            </div>
        </div>
    </header>

    <!-- Mobile Menu -->
    <div class="mobile-menu" id="mobileMenu">
        <div class="mb-8">
            <a href="#" class="logo">乔木精选推荐</a>
        </div>
        <nav class="space-y-5" id="mobileNav">
            <!-- 导航菜单将通过JavaScript动态加载 -->
        </nav>
        <div class="mt-8 pt-6 border-t" style="border-color: var(--card-border);">
            <div class="flex justify-center mt-4">
                <a href="https://github.com/joeseesun" target="_blank" class="social-icon mx-2" title="GitHub">
                    <i class="fab fa-github"></i>
                </a>
                <a href="https://twitter.com/vista8" target="_blank" class="social-icon mx-2" title="Twitter">
                    <i class="fab fa-twitter"></i>
                </a>
                <a href="mailto:vista8@gmail.com" class="social-icon mx-2" title="Email">
                    <i class="fas fa-envelope"></i>
                </a>
                <div class="social-icon mx-2 cursor-pointer" id="mobileDonateTrigger" title="联系作者">
                    <i class="fas fa-user-plus"></i>
                </div>
                </div>
            </div>
        </div>

    <!-- Overlay -->
    <div class="overlay" id="overlay"></div>

    <!-- Hero Section -->
    <section class="hero-section">
        <!-- 装饰元素 -->
        <div class="hero-decoration hero-dot-grid"></div>
        <div class="hero-decoration hero-circle"></div>
        <div class="hero-decoration hero-line"></div>
        
        <div class="container mx-auto px-4">
            <div class="text-center hero-content">
                <h1 class="hero-title">
                    乔木精选推荐
                </h1>
                <p class="hero-subtitle">
                    发现最佳AI、阅读与知识管理工具，<span class="hero-highlight">提升工作效率</span>
                </p>
                <div class="search-container">
                    <i class="fas fa-search search-icon"></i>
                    <input 
                        type="text" 
                        id="searchInput" 
                        class="search-box" 
                        placeholder="搜索工具、平台或技术..."
                        style="color: var(--text-primary);"
                    >
                    <button type="button" class="search-clear" title="清空搜索">
                        <i class="fas fa-times"></i>
                    </button>
            </div>
        </div>
        </div>
        </div>
        <!-- 替换波浪为粒子容器 -->
        <div class="particles-container" id="hero-particles"></div>
    </section>

    <!-- Category Tabs (Mobile Scrollable) -->
    <div class="container mx-auto px-4 mt-10">
        <div class="category-tabs">
            <div class="category-tab active" data-category="all">
                <i class="fas fa-th-large mr-2"></i>全部
        </div>
            <div class="category-tab" data-category="ai-tools">
                <i class="fas fa-robot mr-2"></i>AI工具
            </div>
            <div class="category-tab" data-category="reading">
                <i class="fas fa-book-reader mr-2"></i>阅读与知识
            </div>
            <div class="category-tab" data-category="newsletter">
                <i class="fas fa-newspaper mr-2"></i>精选Newsletter
            </div>
        </div>
    </div>

    <!-- 筛选状态显示 -->
    <div id="filter-status" class="hidden fixed bottom-5 left-1/2 transform -translate-x-1/2 bg-blue-50 dark:bg-blue-900 border border-blue-200 dark:border-blue-800 text-blue-700 dark:text-blue-200 px-4 py-2 rounded-full shadow-lg z-40 flex items-center">
        <span id="filter-status-text" class="mr-3">正在筛选: "AI"</span>
        <button id="clear-filter" class="text-xs bg-blue-100 dark:bg-blue-800 hover:bg-blue-200 dark:hover:bg-blue-700 text-blue-700 dark:text-blue-200 px-2 py-1 rounded-full transition-all">
            <i class="fas fa-times mr-1"></i>清除
        </button>
    </div>

    <!-- Main Content -->
    <main class="container mx-auto px-4 py-8">
    </main>

    <!-- Footer -->
    <footer style="background-color: var(--bg-secondary); position: relative; padding-top: 100px;">
        <div class="footer-animation">
            <div class="grid-container">
                <div class="math-grid"></div>
                <div class="particle-system" id="footerParticles"></div>
            </div>
        </div>
        <div class="container mx-auto px-4 py-12 relative z-10">
            <div class="flex flex-col md:flex-row justify-between items-center">
                <div class="mb-8 md:mb-0 text-center md:text-left">
                    <a href="#" class="logo">乔木精选推荐</a>
                    <p class="mt-3 text-lg" style="color: var(--text-secondary);">精选AI与知识工具集</p>
                    <p class="mt-2" style="color: var(--text-secondary);">更快、更智能地找到你需要的工具</p>
                </div>
                <div class="flex flex-col items-center md:items-end">
                    <div class="flex space-x-4 mb-4">
                        <a href="https://github.com/joeseesun" target="_blank" class="social-icon" title="GitHub">
                            <i class="fab fa-github"></i>
                        </a>
                        <a href="https://twitter.com/vista8" target="_blank" class="social-icon" title="Twitter">
                            <i class="fab fa-twitter"></i>
                        </a>
                        <a href="mailto:vista8@gmail.com" class="social-icon" title="Email">
                            <i class="fas fa-envelope"></i>
                        </a>
                        <div class="social-icon cursor-pointer" id="donateTrigger" title="联系作者">
                            <i class="fas fa-user-plus"></i>
                        </div>
                    </div>
                    <div class="tooltip">
                        <img src="https://pic.readnow.pro/2025/03/7b8ace4a97643e3ad0471cd0c26c02fb.png" alt="赞赏二维码" class="w-32 h-32 rounded-lg shadow-md">
                        <span class="tooltip-text">打赏向阳乔木</span>
                    </div>
                </div>
            </div>
            <div class="mt-10 pt-6 border-t text-center" style="border-color: var(--card-border);">
                <p style="color: var(--text-secondary);"> 2025 向阳乔木. 保留所有权利.</p>
            </div>
        </div>
    </footer>

    <!-- 赞赏二维码模态框 -->
    <div class="donation-modal" id="donationModal">
        <div class="donation-content">
            <div class="donation-close" id="donationClose">
                <i class="fas fa-times"></i>
            </div>
            <h3 class="text-xl font-bold mb-2">添加作者微信</h3>
            <p style="color: var(--text-secondary);" class="mb-4">欢迎添加作者微信交流</p>
            <img src="https://pic.readnow.pro/2025/03/03508452238484facfd20e858c2e16e1.png" alt="微信二维码" class="donation-qrcode">
            <p style="color: var(--text-secondary);" class="text-sm">扫描二维码添加微信</p>
        </div>
    </div>

    <!-- Back to Top Button -->
    <div class="back-to-top" id="backToTop">
        <i class="fas fa-arrow-up"></i>
    </div>

    <!-- 添加新的粒子容器 -->
    <div class="particles-container" id="particles-container"></div>

    <script>
        // 全局数据存储
        let allSites = [];
        let allCategories = [];
        let allTags = [];
        let siteSettings = null;
        let navMenuItems = []; // 添加导航菜单项存储

        // 在页面加载时初始化
        document.addEventListener('DOMContentLoaded', function() {
            // 初始化搜索增强功能
            enhanceSearchExperience();
            
            // 其他页面初始化
            fetchDataAndRenderPage();
            initMobileMenu();
            initThemeToggle();
            initParticles();
            initDonationModal();
            initBackToTop();
            addTabClickEvents();
            
            // 添加点击特效
            document.addEventListener('click', createClickEffect);
            
            // 初始化清除筛选按钮
            document.getElementById('clear-filter').addEventListener('click', () => {
                document.getElementById('searchInput').value = '';
                document.getElementById('filter-status').classList.add('hidden');
                resetCardDisplay();
            });
        });
        
        // 搜索框增强功能
        function enhanceSearchExperience() {
            const searchInput = document.getElementById('searchInput');
            const searchClear = document.querySelector('.search-clear');
            
            // 清空按钮功能
            if (searchClear) {
                searchClear.addEventListener('click', () => {
                    searchInput.value = '';
                    searchInput.focus();
                    
                    // 更新筛选状态
                    const filterStatus = document.getElementById('filter-status');
                    filterStatus.classList.add('hidden');
                    
                    // 重置卡片显示
                    resetCardDisplay();
                });
            }
            
            // 添加快捷键支持
            document.addEventListener('keydown', (e) => {
                // '/' 键聚焦搜索框
                if (e.key === '/' && document.activeElement !== searchInput) {
                    e.preventDefault();
                    searchInput.focus();
                }
                
                // ESC 键清空搜索
                if (e.key === 'Escape' && document.activeElement === searchInput) {
                    if (searchInput.value) {
                        searchInput.value = '';
                        
                        // 更新筛选状态
                        const filterStatus = document.getElementById('filter-status');
                        filterStatus.classList.add('hidden');
                        
                        // 重置卡片显示
                        resetCardDisplay();
                    } else {
                        searchInput.blur(); // 如果已经是空的，则取消焦点
                    }
                }
            });
        }
        
        // 重置卡片显示
        function resetCardDisplay() {
            // 重置所有卡片显示
            document.querySelectorAll('.site-card').forEach(card => {
                card.style.display = 'flex';
                
                // 移除高亮
                removeHighlight(card.querySelector('.card-title'));
                removeHighlight(card.querySelector('.card-description'));
            });
            
            // 显示所有分类
            document.querySelectorAll('.category-section').forEach(section => {
                section.style.display = 'block';
            });
        }
        
        // 高亮文本内容
        function highlightText(element, searchTerm) {
            if (!element || !searchTerm) return;
            
            const originalText = element.textContent;
            const lowerText = originalText.toLowerCase();
            
            if (lowerText.includes(searchTerm)) {
                // 移除现有高亮
                removeHighlight(element);
                
                // 添加新高亮
                const startIndex = lowerText.indexOf(searchTerm);
                const endIndex = startIndex + searchTerm.length;
                
                const beforeMatch = originalText.substring(0, startIndex);
                const match = originalText.substring(startIndex, endIndex);
                const afterMatch = originalText.substring(endIndex);
                
                element.innerHTML = `${beforeMatch}<span class="highlight-match">${match}</span>${afterMatch}`;
            }
        }
        
        // 移除文本高亮
        function removeHighlight(element) {
            if (!element) return;
            if (element.querySelector('.highlight-match')) {
                element.textContent = element.textContent;
            }
        }

        // 从后端API获取数据并初始化页面
        async function fetchDataAndRenderPage() {
            try {
                // 显示加载中状态
                document.getElementById('pageLoader').classList.remove('hidden');

                // 并行获取所有数据
                const [sitesResponse, categoriesResponse, tagsResponse, settingsResponse, menuItems] = await Promise.all([
                    fetch('/api/sites'),
                    fetch('/api/categories'),
                    fetch('/api/tags'),
                    fetch('/api/settings'),
                    fetchNavMenuItems() // 添加导航菜单数据获取
                ]);

                // 检查响应状态
                if (!sitesResponse.ok || !categoriesResponse.ok || !tagsResponse.ok || !settingsResponse.ok) {
                    throw new Error('获取数据失败，请刷新页面重试');
                }

                // 解析响应数据
                allSites = await sitesResponse.json();
                allCategories = await categoriesResponse.json();
                allTags = await tagsResponse.json();
                siteSettings = await settingsResponse.json();
                navMenuItems = menuItems;

                // 渲染导航菜单
                if (Array.isArray(navMenuItems) && navMenuItems.length > 0) {
                    renderDesktopNav(navMenuItems);
                    renderMobileNav(navMenuItems);
                } else {
                    console.warn('导航菜单为空或加载失败');
                }

                // 应用网站设置
                applySettings();

                // 渲染页面内容
                renderCategories();
                renderSitesByCategory();

                // 初始化搜索和筛选功能
                initSearchAndFilter();

                // 隐藏加载动画并显示卡片
                setTimeout(() => {
                    document.getElementById('pageLoader').classList.add('hidden');
                    showCards();
                }, 800);
            } catch (error) {
                console.error('加载数据失败:', error);
                handleLoadError(error);
            }
        }

        // 应用网站设置到页面元素
        function applySettings() {
            if (!siteSettings) return;
            
            // 更新页面标题和描述
            document.title = siteSettings.site_name || "精选AI与知识工具集";
            const metaDescription = document.querySelector('meta[name="description"]');
            if (metaDescription) {
                metaDescription.content = siteSettings.site_description || "发现最佳AI、阅读与知识管理工具，提升工作效率";
            }
            
            // 更新导航栏和移动菜单中的网站名称
            const logoElements = document.querySelectorAll('.logo');
            logoElements.forEach(el => {
                el.textContent = siteSettings.site_name || "乔木精选推荐";
            });
            
            // 更新Hero区域的标题和描述
            const heroTitle = document.querySelector('.hero-section h1');
            if (heroTitle) {
                heroTitle.textContent = siteSettings.hero_title || "乔木精选推荐";
            }
            
            const heroSubtitle = document.querySelector('.hero-section .hero-subtitle');
            if (heroSubtitle) {
                // 检查是否有高亮部分需要保留
                const highlightSpan = heroSubtitle.querySelector('.hero-highlight');
                if (highlightSpan && siteSettings.hero_subtitle) {
                    // 尝试保留高亮部分，将副标题的最后一部分设为高亮
                    const subtitleParts = siteSettings.hero_subtitle.split('，');
                    if (subtitleParts.length > 1) {
                        const lastPart = subtitleParts.pop();
                        heroSubtitle.innerHTML = `${subtitleParts.join('，')}，<span class="hero-highlight">${lastPart}</span>`;
                    } else {
                        heroSubtitle.textContent = siteSettings.hero_subtitle;
                    }
                } else {
                    heroSubtitle.textContent = siteSettings.hero_subtitle || "发现最佳AI、阅读与知识管理工具，提升工作效率";
                }
            }
            
            // 更新页脚内容
            const footerContent = document.querySelector('footer .mb-8.md\\:mb-0');
            if (footerContent) {
                footerContent.innerHTML = `
                    <a href="#" class="logo text-3xl">${siteSettings.site_name || "乔木精选推荐"}</a>
                    <p class="mt-3 text-lg" style="color: var(--text-secondary);">${siteSettings.site_description || "精选AI与知识工具集"}</p>
                    
                `;
            }
            
            // 更新页脚版权信息
            const footerCopyright = document.querySelector('footer .mt-10.pt-6.border-t p');
            if (footerCopyright && siteSettings.footer_text) {
                footerCopyright.innerHTML = siteSettings.footer_text;
            }
            
            // 更新社交媒体链接
            if (siteSettings.github_url) {
                const githubLinks = document.querySelectorAll('a[title="GitHub"]');
                githubLinks.forEach(link => {
                    link.href = siteSettings.github_url;
                });
            }
            
            if (siteSettings.twitter_url) {
                const twitterLinks = document.querySelectorAll('a[title="Twitter"]');
                twitterLinks.forEach(link => {
                    link.href = siteSettings.twitter_url;
                });
            }
            
            if (siteSettings.email) {
                const emailLinks = document.querySelectorAll('a[title="Email"]');
                emailLinks.forEach(link => {
                    link.href = `mailto:${siteSettings.email}`;
                });
            }
            
            // 更新赞赏二维码
            if (siteSettings.donation_qrcode) {
                const donationQrcode = document.querySelector('.tooltip img');
                if (donationQrcode) {
                    donationQrcode.src = siteSettings.donation_qrcode;
                }
            }
            
            // 更新联系模态框二维码
            if (siteSettings.contact_qrcode) {
                const contactQrcode = document.querySelector('.donation-modal .donation-qrcode');
                if (contactQrcode) {
                    contactQrcode.src = siteSettings.contact_qrcode;
                }
            }
        }

        // 渲染分类选项卡
        function renderCategories() {
            const tabsContainer = document.querySelector('.category-tabs');
            
            // 清空现有的标签（保留"全部"标签）
            tabsContainer.innerHTML = `
                <a href="#" class="category-link category-tab active" data-id="all">
                    <i class="fas fa-th-large mr-2"></i>全部
                </a>
            `;
            
            // 按 display_order 排序并添加分类标签
            categories
                .sort((a, b) => a.display_order - b.display_order)
                .forEach(category => {
                    const tabHtml = `
                        <a href="#" class="category-link category-tab" data-id="${category.id}">
                            <i class="${category.icon || 'fas fa-folder'} mr-2"></i>${category.name}
                        </a>
                    `;
                    tabsContainer.insertAdjacentHTML('beforeend', tabHtml);
                });
            
            // 重新绑定事件监听器
            addEventListeners();
        }

        // 根据分类渲染网站卡片
        function renderSitesByCategory() {
            // 清空主内容区域
            const mainContent = document.querySelector('main');
            mainContent.innerHTML = '';
            
            // 先添加筛选状态条
            const filterStatusHtml = `
                <div id="filter-status" class="mb-6 py-3 px-4 rounded-lg hidden" style="background-color: var(--bg-secondary); border: 1px solid var(--card-border);">
                    <div class="flex justify-between items-center">
                        <div class="flex items-center">
                            <i class="fas fa-filter mr-2"></i>
                            <span id="filter-status-text">正在筛选:</span>
                        </div>
                        <button id="clear-filter" class="px-3 py-1 rounded text-sm" style="background-color: var(--primary); color: white;">
                            <i class="fas fa-times mr-1"></i>清除筛选
                        </button>
                    </div>
                </div>
            `;
            mainContent.innerHTML = filterStatusHtml;
            
            // 使用后台配置的排序顺序
            const sortedCategories = [...allCategories].sort((a, b) => a.display_order - b.display_order);
            
            // 只显示有网站的分类
            const categoriesToShow = sortedCategories.filter(cat => cat.siteCount > 0);
            
            // 为每个分类创建一个区域
            categoriesToShow.forEach(category => {
                // 获取属于此分类的所有网站
                const sitesInCategory = allSites.filter(site => 
                    site.categories.some(cat => cat.id === category.id)
                );
                
                if (sitesInCategory.length === 0) return;
                
                // 创建分类区域
                const sectionHtml = `
                    <section id="category-${category.id}" class="mb-12 category-section" data-category="${category.id}">
                        <h2 class="category-title text-2xl md:text-3xl font-bold">${category.name}</h2>
                        <p class="text-lg mb-8" style="color: var(--text-secondary);">${category.description || '发现精选工具，提升您的体验'}</p>
                        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 sites-container">
                            <!-- 网站卡片会在这里动态添加 -->
                        </div>
                    </section>
                `;
                
                mainContent.innerHTML += sectionHtml;
                
                // 为该分类添加网站卡片
                const sitesContainer = document.querySelector(`#category-${category.id} .sites-container`);
                renderSiteCards(sitesInCategory, sitesContainer);
            });
            
            // 设置清除筛选按钮事件
            document.getElementById('clear-filter').addEventListener('click', clearFilter);
        }

        // 添加占位图片生成函数
        function generatePlaceholder(siteName) {
            // 从网站名称生成颜色（简单哈希）
            const hash = siteName.split('').reduce((acc, char) => {
                return char.charCodeAt(0) + ((acc << 5) - acc);
            }, 0);
            const hue = Math.abs(hash) % 360;
            const bgColor = `hsl(${hue}, 70%, 95%)`;
            const textColor = `hsl(${hue}, 70%, 30%)`;
            
            // 获取网站首字母或前两个字符作为显示内容
            const initial = siteName.length > 0 ? siteName.charAt(0).toUpperCase() : '?';
            const secondChar = siteName.length > 1 ? siteName.charAt(1) : '';
            const displayText = initial + secondChar;
            
            return `data:image/svg+xml,${encodeURIComponent(`
                <svg xmlns="http://www.w3.org/2000/svg" width="400" height="225" viewBox="0 0 400 225">
                    <rect width="400" height="225" fill="${bgColor}" />
                    <text x="50%" y="50%" font-family="Arial, sans-serif" font-size="60" font-weight="bold" 
                          fill="${textColor}" text-anchor="middle" dominant-baseline="middle">
                        ${displayText}
                    </text>
                </svg>
            `)}`;
        }

        // 渲染网站卡片（修改）
        function renderSiteCards(sites, container) {
            // 定义标签样式类数组
            const tagClasses = [
                'tag-ai',         // 蓝色系 - 第一个标签
                'tag-productivity', // 青色系 - 第二个标签
                'tag-reading',     // 橙色系 - 第三个标签
                'tag-tool',        // 紫色系 - 第四个标签
                'tag-design',      // 粉色系 - 第五个标签
                'tag-writing',     // 绿色系 - 第六个标签
                'tag-social',      // 红色系 - 第七个标签
                'tag-learning',    // 黄色系 - 第八个标签
                'tag-development', // 深蓝色系 - 第九个标签
                'tag-creative'     // 青绿色系 - 第十个标签
            ];

            // 按显示顺序排序网站
            const sortedSites = [...sites].sort((a, b) => a.displayOrder - b.displayOrder);
            
            sortedSites.forEach(site => {
                // 检查热门和最新标记
                const isHot = site.is_hot === 1;
                const isNew = site.is_new === 1;
                
                // 检查热门和最新标记的有效期
                const now = new Date();
                let isHotValid = isHot;
                let isNewValid = isNew;
                
                if (isHot && site.hot_until) {
                    const hotUntil = new Date(site.hot_until);
                    isHotValid = now <= hotUntil;
                }
                
                if (isNew && site.new_until) {
                    const newUntil = new Date(site.new_until);
                    isNewValid = now <= newUntil;
                }
                
                // 热门和新品标签HTML - 修改这部分代码
                let statusLabelHtml = '';
                if (isHotValid || isNewValid) {
                    statusLabelHtml = '<div class="labels-container">';
                    if (isHotValid) {
                        statusLabelHtml += '<span class="hot-label">热门</span>';
                    }
                    if (isNewValid) {
                        statusLabelHtml += '<span class="new-label">新品</span>';
                    }
                    statusLabelHtml += '</div>';
                }
                
                // 生成占位图片URL
                const placeholderUrl = generatePlaceholder(site.name);
                
                // 教程链接HTML
                let tutorialLinkHtml = '';
                if (site.tutorial_url) {
                    tutorialLinkHtml = `
                        <a href="${site.tutorial_url}" class="tutorial-link" target="_blank" title="查看使用教程" 
                           onclick="event.stopPropagation();">
                            <i class="fas fa-book"></i>教程
                        </a>
                    `;
                }
                
                // 生成卡片HTML
                const cardHtml = `
                    <div class="site-card" data-site-id="${site.id}" data-tags="${site.tags.map(t => t.name).join(' ')}">
                        <div class="card-img-container site-link" data-url="${site.url}">
                            <img src="${site.screenshot || placeholderUrl}" alt="${site.name}" class="card-img" 
                                 onerror="this.onerror=null; this.src='${placeholderUrl}';">
                            ${statusLabelHtml}
                            ${site.tutorial_url ? `
                                <a href="${site.tutorial_url}" 
                                   class="absolute bottom-2 left-2 bg-blue-600 hover:bg-blue-700 text-white text-xs px-2 py-1 rounded flex items-center transition-all duration-300 z-10"
                                   target="_blank"
                                   onclick="event.stopPropagation();">
                                    <i class="fas fa-book-reader mr-1"></i>教程
                                </a>
                            ` : ''}
                        </div>
                        <div class="card-content">
                            <div class="card-header">
                                <h3 class="card-title site-link" data-url="${site.url}">${site.name}</h3>
                            </div>
                            <p class="card-description site-link" data-url="${site.url}">${site.description || '暂无描述'}</p>
                            <div class="tag-container">
                                ${site.tags.map((tag, index) => {
                                    const tagClass = tagClasses[index % tagClasses.length];
                                    return `<span class="tag ${tagClass}" data-tag="${tag.name}">${tag.name}</span>`;
                                }).join('')}
                            </div>
                        </div>
                    </div>
                `;
                
                container.innerHTML += cardHtml;
            });
            
            // 在添加所有网站卡片后为元素添加事件处理
            addCardEventListeners();
        }

        // 为卡片元素添加事件监听器
        function addCardEventListeners() {
            // 为所有网站链接元素添加点击事件
            document.querySelectorAll('.site-link').forEach(element => {
                element.addEventListener('click', function() {
                    const url = this.getAttribute('data-url');
                    if (url) {
                        window.open(url, '_blank');
                    }
                });
                // 添加指针样式，提示可点击
                element.style.cursor = 'pointer';
            });
            
            // 为所有标签添加点击事件
            document.querySelectorAll('.tag').forEach(tag => {
                tag.addEventListener('click', function(e) {
                    e.stopPropagation(); // 阻止事件冒泡，避免触发卡片的点击事件
                    const tagName = this.getAttribute('data-tag');
                    if (tagName) {
                        filterSitesByTag(tagName);
                    }
                });
                // 添加指针样式，提示可点击
                tag.style.cursor = 'pointer';
            });
        }

        // 根据标签筛选网站 - 更新显示filter状态和修复卡片显示问题
        function filterSitesByTag(tagName) {
            // 显示筛选状态
            const filterStatus = document.getElementById('filter-status');
            const filterStatusText = document.getElementById('filter-status-text');
            filterStatus.classList.remove('hidden');
            filterStatusText.textContent = `正在筛选: "${tagName}"`;
            
            // 重置分类选项卡
            document.querySelectorAll('.category-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            document.querySelector('.category-tab[data-category="all"]').classList.add('active');
            
            // 显示所有分类区域
            document.querySelectorAll('.category-section').forEach(section => {
                section.style.display = 'block';
            });
            
            // 筛选卡片
            const searchTerm = tagName.toLowerCase();
            document.getElementById('searchInput').value = searchTerm; // 更新搜索框
            
            // 获取所有网站卡片
            const cards = document.querySelectorAll('.site-card');
            
            cards.forEach(card => {
                const tags = card.dataset.tags ? card.dataset.tags.toLowerCase() : '';
                
                if (tags.includes(searchTerm)) {
                    card.style.display = 'flex'; // 确保正确的显示模式
                    const section = card.closest('.category-section');
                    if (section) {
                        section.style.display = 'block';
                    }
                } else {
                    card.style.display = 'none';
                }
            });
            
            // 检查每个分类是否有可见的卡片
            const categorySections = document.querySelectorAll('.category-section');
            categorySections.forEach(section => {
                const visibleCards = Array.from(section.querySelectorAll('.site-card')).some(card => card.style.display !== 'none');
                section.style.display = visibleCards ? 'block' : 'none';
            });
            
            // 滚动到筛选状态条位置
            filterStatus.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
        }

        // 为分类选项卡添加点击事件
        function addTabClickEvents() {
            const categoryTabs = document.querySelectorAll('.category-tab');
            
            categoryTabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    const category = tab.dataset.category;
                    
                    // 更新活动选项卡
                    categoryTabs.forEach(t => t.classList.remove('active'));
                    tab.classList.add('active');
                    
                    // 显示/隐藏分类区域
                    const sections = document.querySelectorAll('.category-section');
                    if (category === 'all') {
                        sections.forEach(section => section.style.display = 'block');
                    } else {
                        sections.forEach(section => {
                            if (section.dataset.category === category) {
                                section.style.display = 'block';
                            } else {
                                section.style.display = 'none';
                            }
                        });
                    }
                });
            });
        }

        // 初始化搜索和筛选功能
        function initSearchAndFilter() {
            const searchInput = document.getElementById('searchInput');
            
            searchInput.addEventListener('input', (e) => {
                const searchTerm = e.target.value.toLowerCase().trim();
                
                // 更新筛选状态显示
                const filterStatus = document.getElementById('filter-status');
                const filterStatusText = document.getElementById('filter-status-text');
                
                if (searchTerm) {
                    filterStatus.classList.remove('hidden');
                    filterStatusText.textContent = `正在搜索: "${searchTerm}"`;
                } else {
                    filterStatus.classList.add('hidden');
                }
                
                // 获取所有网站卡片
                const cards = document.querySelectorAll('.site-card');
                
                cards.forEach(card => {
                    const title = card.querySelector('.card-title').textContent.toLowerCase();
                    const description = card.querySelector('.card-description').textContent.toLowerCase();
                    const tags = card.dataset.tags ? card.dataset.tags.toLowerCase() : '';
                    
                    if (title.includes(searchTerm) || description.includes(searchTerm) || tags.includes(searchTerm)) {
                        card.style.display = 'flex'; // 使用flex确保卡片内容正确显示
                        const section = card.closest('.category-section');
                        if (section) {
                            section.style.display = 'block';
                        }
                        
                        // 高亮匹配文本
                        if (searchTerm) {
                            highlightText(card.querySelector('.card-title'), searchTerm);
                            highlightText(card.querySelector('.card-description'), searchTerm);
                        } else {
                            // 移除高亮
                            removeHighlight(card.querySelector('.card-title'));
                            removeHighlight(card.querySelector('.card-description'));
                        }
                    } else {
                        card.style.display = 'none';
                    }
                });
                
                // 检查每个分类是否有可见的卡片
                const categorySections = document.querySelectorAll('.category-section');
                categorySections.forEach(section => {
                    const visibleCards = Array.from(section.querySelectorAll('.site-card')).some(card => card.style.display !== 'none');
                    section.style.display = visibleCards ? 'block' : 'none';
                });
            });
        }

        // 显示卡片动画
        function showCards() {
            const cards = document.querySelectorAll('.site-card');
            cards.forEach((card, index) => {
                setTimeout(() => {
                    card.classList.add('visible');
                }, 50 * index);
            });
        }

        // 添加粒子效果创建函数
        function createParticles() {
            // 首先处理Hero部分的粒子
            const heroContainer = document.getElementById('hero-particles');
            if (heroContainer) {
                createParticlesInContainer(heroContainer, {
                    count: 60, 
                    colors: ['#2563eb', '#3b82f6', '#0ea5e9', '#38bdf8', '#f97316'],
                    sizeRange: [10, 30],
                    speedRange: [4, 8]
                });
            }
            
            // 处理底部的粒子容器
            const footerContainer = document.getElementById('particles-container');
            if (footerContainer) {
                createParticlesInContainer(footerContainer, {
                    count: 40,
                    colors: ['#2563eb', '#0ea5e9', '#f97316', '#3b82f6', '#38bdf8'],
                    sizeRange: [8, 25],
                    speedRange: [5, 9]
                });
            }
            
            // 设置清理
            cleanupParticles();
        }

        // 在指定容器中创建粒子
        function createParticlesInContainer(container, options) {
            // 设置默认值
            const config = {
                count: options.count || 40,
                colors: options.colors || ['#2563eb', '#3b82f6', '#0ea5e9'],
                sizeRange: options.sizeRange || [10, 30],
                speedRange: options.speedRange || [4, 8]
            };
            
            // 清除现有粒子
            container.innerHTML = '';
            
            // 创建新粒子
            for (let i = 0; i < config.count; i++) {
                const particle = document.createElement('div');
                particle.classList.add('particle');
                
                // 随机大小
                const minSize = config.sizeRange[0];
                const maxSize = config.sizeRange[1];
                const size = Math.random() * (maxSize - minSize) + minSize;
                particle.style.width = `${size}px`;
                particle.style.height = `${size}px`;
                
                // 随机位置
                const posX = Math.random() * 100;
                const posY = Math.random() * 100;
                particle.style.left = `${posX}%`;
                particle.style.bottom = `${posY}%`;
                
                // 随机颜色
                const color = config.colors[Math.floor(Math.random() * config.colors.length)];
                particle.style.backgroundColor = color;
                
                // 随机动画延迟和持续时间
                const delay = Math.random() * 5;
                const minDuration = config.speedRange[0];
                const maxDuration = config.speedRange[1];
                const duration = Math.random() * (maxDuration - minDuration) + minDuration;
                particle.style.animationDelay = `${delay}s`;
                particle.style.animationDuration = `${duration}s`;
                
                // 添加粒子到容器
                container.appendChild(particle);
                
                // 动画结束后自动移除粒子
                setTimeout(() => {
                    if (particle && particle.parentNode) {
                        particle.style.animation = 'none';
                        particle.style.opacity = '0';
                        setTimeout(() => particle.parentNode.removeChild(particle), 300);
                    }
                }, (delay + duration + 1) * 1000); // 确保动画完全结束后再移除
            }
            
            // 不再需要定期刷新粒子，而是在适当的时间后自然消失
        }

        // 粒子动画完全结束后清空容器
        function cleanupParticles() {
            // 给足够时间让所有粒子完成动画，比如20秒后
            setTimeout(() => {
                const containers = document.querySelectorAll('.particles-container');
                containers.forEach(container => {
                    // 平滑淡出所有剩余粒子
                    const particles = container.querySelectorAll('.particle');
                    particles.forEach(particle => {
                        particle.style.transition = 'opacity 1s ease';
                        particle.style.opacity = '0';
                    });
                    
                    // 完全清空容器
                    setTimeout(() => {
                        container.innerHTML = '';
                    }, 1000);
                });
            }, 20000);
        }

        // 点击效果
        function createClickEffect(e) {
            const effect = document.createElement('div');
            effect.classList.add('click-effect');
            
            // 设置效果的位置
            effect.style.left = `${e.clientX}px`;
            effect.style.top = `${e.clientY}px`;
            
            // 添加到页面
            document.body.appendChild(effect);
            
            // 动画结束后移除
            setTimeout(() => {
                effect.remove();
            }, 600);
        }

        // 页面加载时初始化
        window.addEventListener('load', () => {
            // 获取数据并渲染页面
            fetchDataAndRenderPage();
            
            // 创建粒子效果 - 只在首次加载时创建一次
            createParticles();
            
            // 移除定期刷新粒子的代码
            // setInterval(createParticles, 10000);
            
            // 添加点击效果
            document.addEventListener('click', createClickEffect);
            
            // 初始化增强交互效果 - 只在首次加载时执行一次
            initEnhancedEffects();
            
            // 添加返回顶部按钮的显示/隐藏逻辑
            const backToTopButton = document.getElementById('backToTop');
            
            window.addEventListener('scroll', () => {
                if (window.pageYOffset > 300) {
                    backToTopButton.classList.add('visible');
                } else {
                    backToTopButton.classList.remove('visible');
                }
            });
            
            backToTopButton.addEventListener('click', () => {
                window.scrollTo({
                    top: 0,
                    behavior: 'smooth'
                });
            });
        });

        // Theme Toggle
        const html = document.documentElement;
        const themeToggle = document.getElementById('themeToggle');
        
        // Check for saved theme preference or use OS preference
        const savedTheme = localStorage.getItem('theme');
        const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
        
        if (savedTheme === 'dark' || (!savedTheme && prefersDark)) {
            html.classList.remove('light');
            html.classList.add('dark');
        }
        
        themeToggle.addEventListener('click', () => {
            if (html.classList.contains('dark')) {
                html.classList.remove('dark');
                html.classList.add('light');
                localStorage.setItem('theme', 'light');
            } else {
                html.classList.remove('light');
                html.classList.add('dark');
                localStorage.setItem('theme', 'dark');
            }
        });

        // Mobile menu
        const menuToggle = document.getElementById('menuToggle');
        const mobileMenu = document.getElementById('mobileMenu');
        const overlay = document.getElementById('overlay');
        const mobileLinks = document.querySelectorAll('.mobile-link');
        
        menuToggle.addEventListener('click', () => {
            menuToggle.classList.toggle('active');
            mobileMenu.classList.toggle('active');
            overlay.classList.toggle('active');
            document.body.style.overflow = mobileMenu.classList.contains('active') ? 'hidden' : '';
        });
        
        overlay.addEventListener('click', () => {
            menuToggle.classList.remove('active');
            mobileMenu.classList.remove('active');
            overlay.classList.remove('active');
            document.body.style.overflow = '';
        });
        
        mobileLinks.forEach(link => {
            link.addEventListener('click', () => {
                menuToggle.classList.remove('active');
                mobileMenu.classList.remove('active');
                overlay.classList.remove('active');
                document.body.style.overflow = '';
            });
        });

        // 平滑滚动
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                
                document.querySelector(this.getAttribute('href')).scrollIntoView({
                    behavior: 'smooth'
                });
            });
        });

        // 赞赏模态框
        const donationModal = document.getElementById('donationModal');
        const donateTrigger = document.getElementById('donateTrigger');
        const mobileDonateTrigger = document.getElementById('mobileDonateTrigger');
        const donationClose = document.getElementById('donationClose');

        function openDonationModal() {
            donationModal.classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        function closeDonationModal() {
            donationModal.classList.remove('active');
            document.body.style.overflow = '';
        }

        donateTrigger.addEventListener('click', openDonationModal);
        mobileDonateTrigger.addEventListener('click', openDonationModal);
        donationClose.addEventListener('click', closeDonationModal);
        donationModal.addEventListener('click', (e) => {
            if (e.target === donationModal) {
                closeDonationModal();
            }
        });

        // 添加增强搜索框脉冲和打字机效果功能
        function initEnhancedEffects() {
            const searchContainer = document.querySelector('.search-container');
            const searchInput = document.getElementById('searchInput');
            const heroTitle = document.querySelector('.hero-title');

            // 添加搜索框动画提示 - 只执行一次
            function addSearchPulse() {
                if (searchContainer) {
                    searchContainer.classList.add('search-pulse');
                    setTimeout(() => {
                        searchContainer.classList.remove('search-pulse');
                    }, 2000);
                }
            }

            // 首次加载后添加脉冲提示 - 只执行一次
            setTimeout(addSearchPulse, 2000);
            
            // 移除定期脉冲提示
            // setInterval(addSearchPulse, 15000);

            // 添加搜索框点击交互
            if (searchContainer && searchInput) {
                searchContainer.addEventListener('click', (event) => {
                    searchInput.focus();
                    
                    // 创建点击波纹效果
                    const ripple = document.createElement('div');
                    ripple.classList.add('click-effect');
                    ripple.style.left = event.clientX + 'px';
                    ripple.style.top = event.clientY + 'px';
                    document.body.appendChild(ripple);
                    
                    setTimeout(() => {
                        ripple.remove();
                    }, 600);
                });
            }

            // 添加打字机效果 - 只执行一次
            function addTypingEffect(element, text, speed) {
                if (!element) return;
                
                element.classList.add('typing-effect');
                element.textContent = '';
                let i = 0;
                
                function type() {
                    if (i < text.length) {
                        element.textContent += text.charAt(i);
                        i++;
                        setTimeout(type, speed);
                    } else {
                        // 打字完成后删除打字机效果类
                        setTimeout(() => {
                            element.classList.remove('typing-effect');
                        }, 1000);
                    }
                }
                
                type();
            }

            // 应用打字机效果 - 只执行一次
            if (heroTitle) {
                // 延迟1秒后开始打字效果
                setTimeout(() => {
                    const titleText = heroTitle.textContent.trim();
                    addTypingEffect(heroTitle, titleText, 150);
                }, 1000);
            }
        }

        // 添加清除筛选功能
        function clearFilter() {
            // 隐藏筛选状态条
            document.getElementById('filter-status').classList.add('hidden');
            
            // 清空搜索框
            document.getElementById('searchInput').value = '';
            
            // 显示所有卡片和分类
            document.querySelectorAll('.site-card').forEach(card => {
                card.style.display = 'flex';
            });
            
            document.querySelectorAll('.category-section').forEach(section => {
                section.style.display = 'block';
            });
            
            // 重置分类选项卡，保持"全部"选中
            document.querySelectorAll('.category-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            document.querySelector('.category-tab[data-category="all"]').classList.add('active');
        }

        // 添加导航菜单相关函数
        async function fetchNavMenuItems() {
            try {
                const response = await fetch('/api/nav-menu');
                if (!response.ok) {
                    throw new Error('获取导航菜单失败');
                }
                return await response.json();
            } catch (error) {
                console.error('获取导航菜单失败:', error);
                showErrorToast('导航菜单加载失败，请刷新页面重试');
                return [];
            }
        }

        function renderDesktopNav(menuItems) {
            const desktopNav = document.getElementById('desktopNav');
            if (!desktopNav) return;

            desktopNav.innerHTML = menuItems
                .filter(item => item.is_active)
                .map(item => `
                    <a href="${item.href}" 
                       class="nav-link flex items-center" 
                       style="color: var(--text-primary);"
                       ${item.open_in_new ? 'target="_blank" rel="noopener noreferrer"' : ''}>
                        ${item.icon ? `<i class="${item.icon} mr-2"></i>` : ''}
                        ${item.title}
                    </a>
                `).join('');
        }

        function renderMobileNav(menuItems) {
            const mobileMenu = document.getElementById('mobileMenu');
            if (!mobileMenu) return;

            mobileMenu.innerHTML = menuItems
                .filter(item => item.is_active)
                .map(item => `
                    <a href="${item.href}" 
                       class="mobile-link block px-4 py-2 text-lg" 
                       style="color: var(--text-primary);"
                       ${item.open_in_new ? 'target="_blank" rel="noopener noreferrer"' : ''}>
                        ${item.icon ? `<i class="${item.icon} mr-2"></i>` : ''}
                        ${item.title}
                    </a>
                `).join('');

            // 添加点击事件，点击链接后关闭菜单
            const mobileLinks = mobileMenu.querySelectorAll('.mobile-link');
            mobileLinks.forEach(link => {
                link.addEventListener('click', () => {
                    const menuToggle = document.getElementById('menuToggle');
                    const overlay = document.getElementById('overlay');
                    
                    menuToggle.classList.remove('active');
                    mobileMenu.classList.remove('active');
                    overlay.classList.remove('active');
                    document.body.style.overflow = '';
                });
            });
        }

        function showErrorToast(message, duration = 3000) {
            const errorToast = document.createElement('div');
            errorToast.className = 'fixed top-4 right-4 bg-red-500 text-white px-6 py-3 rounded-lg shadow-lg z-50 animate-fade-in';
            errorToast.innerHTML = `
                <div class="flex items-center">
                    <i class="fas fa-exclamation-circle mr-2"></i>
                    <span>${message}</span>
                </div>
            `;
            document.body.appendChild(errorToast);
            
            // 添加淡入动画样式
            const style = document.createElement('style');
            style.textContent = `
                @keyframes fadeIn {
                    from { opacity: 0; transform: translateY(-10px); }
                    to { opacity: 1; transform: translateY(0); }
                }
                .animate-fade-in {
                    animation: fadeIn 0.3s ease-out forwards;
                }
            `;
            document.head.appendChild(style);
            
            // duration后自动移除提示
            setTimeout(() => {
                errorToast.style.opacity = '0';
                errorToast.style.transform = 'translateY(-10px)';
                errorToast.style.transition = 'all 0.3s ease-out';
                setTimeout(() => {
                    errorToast.remove();
                    style.remove();
                }, 300);
            }, duration);
        }

        function handleLoadError(error) {
            console.error('加载失败:', error);
            showErrorToast(error.message || '加载失败，请刷新页面重试');
            
            // 隐藏加载动画
            document.getElementById('pageLoader').classList.add('hidden');
        }

        // 在 script 部分添加粒子系统初始化代码
        function initFooterParticles() {
            const particleContainer = document.getElementById('footerParticles');
            if (!particleContainer) return;
            
            // 清除现有粒子
            particleContainer.innerHTML = '';
            
            // 定义粒子颜色数组
            const colors = [
                ['30, 64, 175', '59, 130, 246'],  // 蓝色系
                ['71, 85, 105', '100, 116, 139'], // 灰色系
                ['244, 63, 94', '251, 113, 133'], // 红色系
                ['16, 185, 129', '52, 211, 153'], // 绿色系
                ['245, 158, 11', '251, 191, 36'], // 橙色系
                ['139, 92, 246', '167, 139, 250'] // 紫色系
            ];
            
            // 创建新粒子
            const particleCount = 30; // 增加粒子数量
            for (let i = 0; i < particleCount; i++) {
                const particle = document.createElement('div');
                particle.className = 'math-particle';
                
                // 随机大小 (2-8px)
                const size = Math.random() * 6 + 2;
                particle.style.width = `${size}px`;
                particle.style.height = `${size}px`;
                
                // 随机位置
                particle.style.left = `${Math.random() * 100}%`;
                particle.style.top = `${Math.random() * 100}%`;
                
                // 随机动画延迟
                particle.style.animationDelay = `${Math.random() * 8}s`;
                
                // 随机动画持续时间
                const duration = Math.random() * 4 + 6; // 6-10秒
                particle.style.animationDuration = `${duration}s`;
                
                // 随机颜色
                const colorPair = colors[Math.floor(Math.random() * colors.length)];
                particle.style.background = `linear-gradient(${Math.random() * 360}deg, 
                    rgba(${colorPair[0]}, ${Math.random() * 0.4 + 0.4}) 0%,
                    rgba(${colorPair[1]}, ${Math.random() * 0.4 + 0.4}) 100%)`;
                
                // 随机阴影
                const shadowColor = colorPair[0];
                particle.style.boxShadow = `0 0 ${Math.random() * 8 + 4}px rgba(${shadowColor}, 0.3)`;
                
                // 随机旋转
                const rotation = Math.random() * 360;
                particle.style.transform = `rotate(${rotation}deg)`;
                
                particleContainer.appendChild(particle);
            }
        }

        // 在页面加载时初始化粒子系统
        window.addEventListener('load', () => {
            // ... existing code ...
            initFooterParticles();
        });
    </script>
</body>
</html>
